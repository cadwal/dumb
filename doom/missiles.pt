/* DUMB: A Doom-like 3D game engine.
 *
 * doom/missiles.pt: Missiles and Miscellany.
 * Copyright (C) 1998 by Josh Parsons <josh@coombs.anu.edu.au>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111,
 * USA.
 */


#define GlowRate  200msec
#define ExplodeRate  300msec

#define EnergyBall
#define EnergyProof


PhaseTable FireBall
  Default Duration GlowRate
  Default Glow

  Phase INIT    "A"
  Phase -       "B" Goto INIT

  Default Duration ExplodeRate
  Default NoSigs
  Phase EXPLODE "C" Explode  SigExplode Sound DSFIRXPL
  Phase -       "D"
  Phase -       "E" Destroy

Proto ImpFireBall 8004
  Sprite "BAL1"
  Phases FireBall
  Damage 6
  Size 16 16
  Explosive EnergyBall ZCenter BulletProof EnergyProof
  NoHurtOwner
  Mass 0
  Speed 6400/sec

Proto CacoFireBall 8005
  Sprite "BAL2"
  Phases FireBall
  Damage 10
  Size 16 16
  Explosive EnergyBall ZCenter BulletProof EnergyProof
  NoHurtOwner
  Mass 0
  Speed 9600/sec

Proto BaronFireBall 8006
  Sprite "BAL7"
  Phases FireBall
  Damage 20
  Size 19 16
  Explosive EnergyBall ZCenter BulletProof EnergyProof
  NoHurtOwner
  Mass 0
  Speed 4800/sec


/* A "classic" rocket design */

PhaseTable ClassicMissile
  Default Duration GlowRate
  Default Glow

  Phase INIT    "A" Goto INIT

  Default Duration ExplodeRate
  Default NoSigs
  Phase EXPLODE "B" Explode  SigExplode Sound DSRXPLOD
  Phase -       "C"
  Phase -       "D" Destroy

Proto ClassicMissile 8016
  Sprite "MISL"
  Size 10 10
  Damage 25 Hits 1
  Mass 0
  Explosive ZCenter
  Speed 5000/sec


/* Josh's "smoky heatseeking rocket" */

PhaseTable Smoke
  Default Duration GlowRate

  Phase - "C" Glow
  Phase - "D" Destroy

Proto Smoke
  Sprite "PUFF"
  Mass 1000 YMoveOnly
  ZCenter Phantom FloatsUp


PhaseTable Missile
  Default Duration 70msec
  Default Glow

  Phase INIT    "A" RSpawn2
  Phase -       "A" RSpawn2 HeatSeek
  Phase -       "A" RSpawn2
  Phase -       "A" RSpawn2 HeatSeek Goto INIT

  Default Duration ExplodeRate
  Default NoSigs
  Phase EXPLODE "B" Explode  SigExplode Sound DSRXPLOD
  Phase -       "C"
  Phase -       "D" Destroy

Proto Missile 8001
  Sprite "MISL"
  Size 10 10
  Damage 25 Hits 6
  Mass 0
  Explosive ZCenter
  Spawn2 Smoke
  Speed 5000/sec


PhaseTable SkelFireBall
  Default Duration GlowRate
  Default Glow

  Phase INIT    "A" HeatSeek
  Phase -       "B" HeatSeek Goto INIT

  Default Duration ExplodeRate
  Default Sprite "FBXP"
  Default NoSigs

  Phase EXPLODE "A" Explode  SigExplode
  Phase -       "B"
  Phase -       "C" Destroy

Proto SkelFireBall 8002
  Sprite "FATB"
  Damage 15
  Size 18 18
  Explosive EnergyBall ZCenter BulletProof EnergyProof
  Mass 0
  Speed 6400/sec

PhaseTable MancFireBall
  Default Duration GlowRate
  Default Glow

  Phase INIT    "A"
  Phase -       "B" Goto INIT

  Default Duration ExplodeRate
  Default Sprite "MISL"
  Default NoSigs

  Phase EXPLODE "B" Explode  SigExplode
  Phase -       "C"
  Phase -       "D" Destroy

Proto MancFireBall 8007
  Sprite "MANF"
  Damage 15
  Size 18 18
  Explosive EnergyBall ZCenter BulletProof EnergyProof
  NoHurtOwner
  Mass 0
  Speed 8000/sec


PhaseTable AracFireBall
  Default Duration GlowRate
  Default Glow

  Phase INIT    "A"
  Phase -       "B" Goto INIT

  Default Duration ExplodeRate
  Default Sprite "APBX"
  Default NoSigs

  Phase EXPLODE "A" Explode  SigExplode
  Phase -       "B"
  Phase -       "C"
  Phase -       "D"
  Phase -       "E" Destroy

Proto AracFireBall 8068
  Sprite "APLS"
  Damage 8
  Size 15 15
  Explosive EnergyBall ZCenter BulletProof EnergyProof
  NoHurtOwner
  Mass 0
  Speed 10000/sec


PhaseTable PlasmaBall
  Default Duration GlowRate
  Default Glow

  Phase INIT    "A"
  Phase -       "B" Goto INIT

  Default Duration ExplodeRate
  Default Sprite "PLSE"
  Default NoSigs

  Phase EXPLODE "A" Explode  SigExplode
  Phase -       "B"
  Phase -       "C"
  Phase -       "D" Destroy

Proto PlasmaBall 8204
  Sprite "PLSS"
  Damage 5
  Size 12 12
  Explosive EnergyBall ZCenter BulletProof EnergyProof
  Mass 0
  Speed 10000/sec


PhaseTable BFGBall
  Default Duration GlowRate
  Default Glow

  Phase INIT    "A"
  Phase -       "B" Goto INIT

  Default Duration 350msec
  Default Sprite "BFE1"
  Default NoSigs

  Phase EXPLODE "A" Explode  SigExplode BFGEffect
  Phase -       "B"
  Phase -       "C"
  Phase -       "D"
  Phase -       "E"
  Phase -       "F" Destroy

Proto BFGBall 8206
  Sprite "BFS1"
  Damage 50
  Size 15 15
  Explosive EnergyBall ZCenter BulletProof EnergyProof
  Mass 0
  Speed 4000/sec


PhaseTable Bullet
  Default Duration 100msec
  Phase 0 "A" Glow Melee
  Phase 1 "B" Glow
  Phase 2 "C"
  Phase 3 "D" Destroy

Proto Bullet 9001
  Sprite "PUFF"
  Mass 1000 YMoveOnly
  Phantom BecomesBlood BulletAttack ZCenter
  FloatsUp Speed 500/sec
  Damage 1


PhaseTable BloodSplat
  Default Duration 100msec
  Phase 0 "A" Melee
  Phase 1 "B"
  Phase 2 "C" Destroy

Proto BloodSplat 9002
  Sprite "BLUD"
  Phantom ZCenter BulletAttack
  Damage 1


PhaseTable TeleportFog
  Default Duration 200msec
  Default Glow

  Phase TELEPORT "J"
  Phase -        "G"
  Phase -        "D"

  Phase -        "A" Sound DSTELEPT
  Phase -        "B"
  Phase -        "C"
  Phase -        "D"
  Phase -        "E"
  Phase -        "F"
  Phase -        "G"
  Phase -        "H"
  Phase -        "I"
  Phase -        "J" Destroy

Proto TeleportFog 9014
  Sprite "TFOG"
  Phantom ZCenter


PhaseTable VileFire
  Default Duration 200msec
  Default Glow

  Phase BURN    "A"
  Phase -       "B"
  Phase -       "C"
  Phase -       "D" Melee
  Phase -       "E"
  Phase -       "F"
  Phase -       "G"
  Phase -       "H" Destroy

Proto VileFire 8064
  Sprite "FIRE"
  Phantom ZCenter BulletAttack
  Damage 25


#undef GlowRate
#undef ExplodeRate

#undef EnergyBall
#undef EnergyProof
