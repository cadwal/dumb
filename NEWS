* Changes in DUMB 0.13.6.

** WADFILE parameter of XProtoThing and XWad no longer requires -w.

** XWad and XProtoThing print error messages even without --verbose.

And they print those to stderr, not stdout.

** XProtoThing Rotate and Animate buttons should work.

The previous version failed at least with GNU libc 2.0.7 on Linux
2.0.36.

** Infinite loop fixed in XProtoThing argument parsing.

Reported by Jan Rocho.

* Changes in DUMB 0.13.5.

No user-visible changes.

* Changes in DUMB 0.13.4.

** MMX support.

Thanks to Josh Parsons, you can now compile DUMB to use the MMX
instructions of modern IA-32-compatible processors.  See docs/MMX.txt
for more information.

** Linux framebuffer support.

Josh Parsons wrote: 
> Attached is a video driver for use with linux framebuffer devices in
> recent linux kernel versions.  It does page flipping/triple
> buffering, and all that; I've tested it with the Matrox MGA
> framebuffer in linux-ix86 2.1.130, and with a valkyrie fb /
> linux-ppc 2.1.129
> 
> This should help to make dumb a bit nicer to use to those platforms
> (such as ppc and sparc) that don't widely support either XF86-DGA or
> svgalib.  Unfortunately, there's still no keyboard support under
> such a configuration (anyone want to write linuxfb_input.c?)  Until
> there is some, you can use linuxfb_video.c in combination with
> dummy_input.c, or linux_input.c (if you have svgalib).
> 
> If you are using a system which supports both framebuffer devices
> and svgalib, there may be some advantage to be had in using the
> framebuffer device for output.  The framebuffer drivers support
> linear video RAM addressing better than svgalib does, and in many
> cases support more resolutions (ie. for Matrox).

The configure script and Makefiles don't support this driver yet, so
you'll have to tinker a little to use it.

** GGI Degas support.

Andrew Apted has updated DUMB's GGI driver to use the General Input
Interface introduced in Degas.

The previous driver is still included, and the configure script
examines <ggi/ggi.h> to choose which driver to use.

** New option --dumb-third-person enables third-person perspective.

Thanks to Andrew Apted for this.

** LT_IMPASSIBLE lines don't stop missiles any more.

Andrew Apted fixed the bug.

** The sky now scrolls when you look up and down.

This one is from Andrew Apted too.

** The default wadpath includes "." and $datadir/dumb.

** Configuration changes

*** The configure script now warns you if it decides not to build something.

For example, if you haven't installed netpbm, you get this message:

configure: warning: ppm_readppm() not found; programs `dark2trans' and `ppmtodumb' will not be built

Previous versions just skipped the programs which couldn't be built,
without any warning.

*** The script tries -lnetpbm if -lppm -lpgm -lpbm doesn't work.

This is required under Debian GNU/Linux.

* Changes in DUMB 0.13.3.

** --help and --version supported.

All the programs in this package now recognize the GNU --help and
--version options.

Program `wadtool' recognizes each option only if it is spelled out in
full and is the first argument.

Programs `fixed_bm' (not installed), `ldltest' (not installed),
`mkdfnt' (not installed), `ptcomp', `dark2trans', `mknulmap',
`mkpnames', `ppmtodumb', `XProtoThing' and `XWad' use getopt_long(),
so the usual GNU option parsing rules apply.

The game executables `xdumb', `aadumb' etc. handle `--help' just like
`-?'.  Thus `--help all' prints the list of all options.  The messages
have been changed to recommend `--help' rather than `-?'.  The old
option still works, though.

*** XWad and XProtoThing no longer accept -w FILE FILE FILE...

You must instead use -w FILE -w FILE -w FILE.  This is probably not a
big deal, as these programs are supposed to be used interactively.

These programs may be changed in the future to treat all non-option
arguments as names of WAD files to load.

*** fixed_bm SEED no longer works.

You must instead use fixed_bm --seed=SEED.

*** Most parameters to utilities should now be given as options.

Here's a list of the changes:

old: mknulmap FILENAME MAPNAME
new: mknulmap [-m MAPNAME] -o FILENAME
or:  mknulmap [--map=MAPNAME] --output-wad=FILENAME

old: mkpnames SOURCE PNAMES TEXTURES
new: mkpnames -p PNAMES -t TEXTURES [SOURCE]
or:  mkpnames --output-pnames=PNAMES --output-textures=TEXTURES [SOURCE]

old: ptcomp DIRECTORY
new: ptcomp -d DIRECTORY
or:  ptcomp --output-directory=DIRECTORY

old: dark2trans BRIGHTNESS
new: dark2trans -m BRIGHTNESS
or:  dark2trans --min=BRIGHTNESS

old: mkdfnt FONT C [FACTOR]
new: mkdfnt [-f FONT] [-a FACTOR] -c C
or:  mkdfnt [--font=FONT] [--anti-alias=FACTOR] --character=C

These programs still accept the old syntax but warn if it is used.
The old parsing mode is enabled if there is an appropriate number of
parameters and none of them are options.  The --help texts don't
mention this compatibility feature and it may disappear soon.

** Exit code standardisation.

The various little helper programs now exit with these codes:

0 = success;

1 = invalid data read from file;

2 = invalid arguments, or a (usually user-specified) file/display/font
    couldn't be opened;

3 = more serious errors: out of memory, out of disk space, bad sector.

Ptcomp doesn't yet follow this scheme, and there may be other
discrepancies too.

This custom scheme should probably be dropped in favor of
<sysexits.h>.

If you're running some system where EXIT_SUCCESS and EXIT_FAILURE
aren't 0 and 1 (what are they on the Amiga?), the programs revert to
returning EXIT_SUCCESS on success and EXIT_FAILURE otherwise.

** Configuration changes.

*** Several bugs in gettext 0.10.35 configuration scripts have been fixed.

1. The configure script emitted nested messages when checking for
gettext in -lintl.

2. $INTLLIBS was never set.

3. dcgettext() was never found in -lintl.

4. The gettext programs were never linked with -lintl.

5. Compilation failed on FreeBSD due to problems with memcpy().

The docs/patches directory contains patches you can apply to the
gettext sources.  The code in the intl directory has already been
patched.

Please note that the actual functions in the gettext library were not
changed.  If you were able to compile gettext before, you shouldn't
see any difference.

There's one patch for po-mode.el, though.

* Changes in DUMB 0.13.2.

** Enhanced monsters.

By Josh Parsons.  He posted these changes on dumb-list as Monster
Patches 1 to 3.

The monsters are now smarter and can no longer shoot you through
walls.  Also, Heretic monsters are better supported than before.

** Keymap support under GGI.

By Andrew Apted.  He also updated the GGI driver to match the latest
development version of the LibGGI API.  One version known to work is
ggi-devel-980801.

** Keypad key names changed.

The names used to begin with "KP_" when playing under X11.  Now they
begin with "Pad " instead.  Also, long names such as "KP_Subtract"
have been collapsed to "Pad -" and the like.

The GGI version uses the exact same names, so keypad bindings should
now be portable between X11 and GGI.

** All strings are quoted in .dumbrc.

This was necessary because the key names can now contain spaces.

Your old .dumbrc should work fine if it didn't have any quote
characters ("").  Even backslashes are treated as ordinary characters
when they occur outside quotes.

This is the confquote patch posted on dumb-list.

** DUMB should no longer crash if you try to select an item when the
inventory is empty.

This code is rather untested.  One situation that may be handled
erroneously is when you have already selected an item and then the
inventory somehow becomes empty.  But I don't have Heretic so I don't
know whether this can actually happen.

** Internals

*** More documentation on how to compile dosdumb.

By Ulf Axelsson.

* Changes in DUMB 0.13.1.

** MS-DOS DJGPP support by Ulf Axelsson.

** New switches --vid-sync-io and --vid-abort-on-error for debugging on X11.

** Linux sound no longer crashes if the device could not be opened.

** Configuration changes.

*** configure --disable-c forces C++ compilation.

DUMB is always compiled as C++ on big-endian machines; this switch
forces C++ compilation on little-endian machines too.

I use this for hunting down language dependencies that could cause
compilation to fail on big-endian systems.

In the future, C compilation is likely to be dropped altogether.

** Source code changes.

*** Typecasts added for reducing C++ warnings.

I didn't add casts everywhere; some places looked so convoluted I
decided to leave them alone for now.

* Changes in DUMB 0.13.0.

** Internationalization.

DUMB now uses the GNU gettext library to translate its messages to
your language.

So far, only Finnish translations are available.

** Networking not compatible with previous versions.

And probably not with future ones either.

** Random sound redirections now actually work.

** Linux 8-bit sound clicking cured.

** Wadtool "Copying..." message formats changed.

Previously it only showed what it was copying; now it also shows where
it is copying that.  It uses the same notation for lumps in wads as
Make uses for objects in archives: "file.wad(LUMP)".

** No-clipping mode with cheat key 5.

It doesn't work very cleanly but it's useful for debugging.

** Key 6 toggles between renderer debug modes.

** Wadpath isn't searched if the wad filename contains a slash.

Previously, only slashes at the beginning of the filename prevented
the search.

On MS-DOS, backslashes and colons are treated as slashes.

** Sky rendering changed.

The difference is very visible in Doom's E1M1.

The renderer still doesn't work quite right but it's better now.  I'm
not hacking it any more right now because I hope to rewrite most of
it.

** Null sprites allowed.

If neither the protothing nor the phasetable specifies a sprite, DUMB
will now just skip drawing that thing, instead of complaining.

** All lumps in output WAD files are aligned by 8.

** Texture-changing floors & ceilings reset the sector type to 0.

Patch from Andrew Apted.

** Wall patches are only searched for between P_START and P_END.

However, you can have many P_START...P_END pairs and so it's still
easy to add patches in PWADs.

Patch from Josh Parsons.

** Configuration changes.

*** The configure script now checks if __attribute__((regparm(3))) works.

The check notices if you use CFLAGS=-p and a buggy mcount() messes up
the registers.  In that case, it disables register parameters.  Thus
libdumbutil/fixed.c no longer needs special compilation flags.

*** --disable-16bit-sound and --disable-stereo-sound removed.

The OSS/Linux sound driver now checks these in runtime.

The MME sound driver currently doesn't do that, but you can set the
parameters with --sound-stereo and --sound-bits 16.  Patches are
welcome.

** Source code changes.

*** libdumb/mme_sound.c changed a lot and may not compile.

I took the sound mixing routines from it and linux_sound.c, put them
in sound_mix.c (a new file), added some features and fixed a few bugs.
The Linux sound driver now uses the new mixer and works fine (except I
couldn't test 16-bit sound with the SB Pro I have).  I made the
corresponding changes in mme_sound.c but haven't been able to test
them.

If you find bugs in the code, please fix them and send the patches to
me (or to dumb-list if you have subscribed to it).  If you don't know
C, you can configure --without-sound to disable the driver.

*** Integrated Dosdumb 0.11 sources from Ulf Axelsson.

Unfortunately, we don't yet have a DOS Makefile for DUMB 0.13.

*** Copyright notices added in all source files.

*** docs/dumb-autoins.el has auto-insert definitions for GNU Emacs.

*** All source files reindented with the rules in docs/indent.pro.

* Changes in DUMB 0.12.1.

** New option: --dumb-wadpath <list> (short form -W)

DUMB now supports a search path for wad files.

This option does not use the Unix dir1:dir2:dir3 format.  You must
give each directory as a separate parameter.

The current directory (".") is not searched unless it is included in
the path or the path is empty.

Files whose absolute name is given aren't searched in the path.

I have these lines in my .dumbrc:
dumb-wadpath=/home/niemitalo/kalle/share/dumb /home/niemitalo/kalle/share/doom
dumb-doom-wad=doom-1.8.wad

** New options: --dumb-doom-wad, --dumb-doom2-wad, --dumb-doom4dum-wad

Previously these values were hardcoded as doom.wad, doom2.wad and
doom4dum.wad; now you can change them.

** Configuration changes.

*** The script looks for doom*.wad and heretic*.wad in some new places.

Here are the exact lists from configure.in:

$dumb_expanded_datadir/doom/doom*.wad
$dumb_expanded_datadir/dumb/doom*.wad
/usr/local/games/lib/doom/doom*.wad
/usr/local/games/lib/doom2/doom*.wad
/usr/local/games/doom/doom*.wad
/usr/local/games/doom2/doom*.wad
/usr/games/lib/doom/doom*.wad
/usr/games/lib/doom2/doom*.wad
/usr/games/doom/doom*.wad
/usr/games/doom2/doom*.wad
/usr/local/share/doom/doom*.wad
/usr/share/doom/doom*.wad
/usr/local/share/dumb/doom*.wad
/usr/share/dumb/doom*.wad
`pwd`/doom*.wad
$srcdir/doom*.wad
`cd ..; pwd`/doom*.wad

$dumb_expanded_datadir/heretic/heretic*.wad
$dumb_expanded_datadir/dumb/heretic*.wad
/usr/local/games/lib/heretic/heretic*.wad
/usr/local/games/heretic/heretic*.wad
/usr/games/lib/heretic/heretic*.wad
/usr/games/heretic/heretic*.wad
/usr/local/share/heretic/heretic*.wad
/usr/share/heretic/heretic*.wad
/usr/local/share/dumb/heretic*.wad
/usr/share/dumb/heretic*.wad
`pwd`/heretic*.wad
$srcdir/heretic*.wad
`cd ..; pwd`/heretic*.wad

$dumb_expanded_datadir means the directory where data files are
installed.  It can be set with --datadir=DIRECTORY and defaults to
${prefix}/share.  ${prefix} can be set with --prefix=DIRECTORY and
defaults to /usr/local.  $srcdir means the directory where the DUMB
sources are.

I believe the $dumb_expanded_datadir lines will catch most cases; the
rest of the checks are there just in case they don't.

The configure script ignores doom4dum.wad when it's looking for
doom*.wad.

*** Location of doom*.wad and heretic*.wad is not saved in config.h.

This means you don't have to recompile everything if you rerun
configure with a different wad.

** Compilation changes.

*** Makefile.in files built with Automake 1.3.

* Changes in DUMB 0.12.

** Switching to previous weapon.

I think DUMB 0.10a supports this too if playing a network game where
the master is DUMB 0.12.  I haven't tried it, though.

** Format of LINETYPE, PROTOS and GETTABLE changed.

To add the features below, I had to change the format of the LINETYPE
and PROTOS lumps.  Binary data compiled with previous versions of
ptcomp is not compatible with DUMB 0.12.  But the source is, so all
you have to do is recompile.

In GETTABLE, I just used some of the spare fields, so they should be
compatible.

The structures inherited from Doom are still the same.

I haven't changed the network protocol either.  DUMB 0.13 will
probably change it too, to be able to support function keys.

** Scrolling walls.

As in Doom, walls scroll if their linetypes scroll.  You make a
linetype scroll by adding a Scroll line in its definition.  "Scroll"
takes two parameters: horizontal and vertical speed.  Any number of
linetypes can scroll.

The keyword is accepted in sectortypes too but there it has no effect.

The current scrolling implementation has a minor bug: after a texture
has been scrolled by 524288 pixels, a counter will wrap around and the
texture will jump to a new position unless its width and height are
exact powers of two.

** Doom super shotgun blast made as tall as it is wide.

The ShootArc keyword in ProtoThing definitions now accepts an optional
third argument: the vertical shoot arc.  If it isn't given, it
defaults to 1/8 of the horizontal arc.

** DUMB runs on Solaris.

** Ptcomp error messages are in form FILE:LINE: TEXT.

This makes it easy to handle them in the Compilation mode of Emacs.

* Changes in DUMB 0.12.beta2.

** Distribution under GNU Library General Public License not allowed.

We didn't have the right to allow it in the first place.  DUMB is a
derived work of wt and must follow the wt license which is GPL.

** DUMB builds on Solaris.

* Changes in DUMB 0.12.beta1.

** New maintainer: Kalle Niemitalo <tosi@stekt.oulu.fi>.

I'll be uploading new versions to both x2ftp.oulu.fi and samba.anu.edu.au.

Suggestions, wishes and patches (I prefer unified format) are welcome.
I have both MIME and uudecode.

Naturally, I'm on the DUMB mailing list.  (So please don't CC to me!)

** Aadumb enhancements.

*** Shift key supported.

The input driver now notes if the key pressed is an upper-case letter
and concludes that Shift was pressed.  Likewise, the arrival of a
lower-case letter tells it that Shift has been released.

The Shift key has an autorelease function like the other keys, except
it is controlled with the new --input-autorelease-shift option.

A later version may support Control and Meta too.

*** Keymap support in aadumb.

You can use all the usual keymap options like --keymap-shoot x to
specify actions for keys.

Possible keynames: all printable characters, Space, Escape, BackSpace,
Up, Down, Left, Right, Tab, Linefeed, Return, Shift and char_xxx where
xxx is the ASCII code of an unprintable character that wasn't in the
list above.  There are also special keynames Resize and Mouse but
those aren't very useful and will be removed in the future.  Escape
sequences that AA-lib doesn't understand become aalib_xxx where xxx is
a number.  Unfortunately, the number seems to be stuck at 400
(=AA_UNKNOWN defined in aalib.h) when using the ncurses driver of
AA-lib.  Under X, different keys do give different numbers.

*** --input-autorelease <integer>: ticks to pass before key autorelease or 0

This makes the input driver assume that a key has been released when a
certain number of ticks (actually, game loop iterations) has passed
since it was pressed.  The default value 1 seems to work great when
the keyboard has fast autorepeat.  It can also be set to 0; then the
driver will assume a key is held down until another one is pressed.
That means you'll have to hit Space or something else to stop
movements.

Under X, AA-lib knows when keys are released and sends events to
DUMB.  This option is then ignored.

A future version may use real ticks.

*** --input-autorelease-shift <integer>: ticks before shift autorelease or 0

This is like --input-autorelease but applies to the Shift key and is
used even when AA-lib reports key releases separately.  That's because
AA-lib doesn't have a way to report the state of the Shift key at all.

This option defaults to 1 just like --input-autorelease does.

*** --vid-fastrender: very fast (but not as perfect)

This feature was previously controlled by a compile-time symbol.  Now
you can turn it on and off with this new option.  It is off by default.

*** --vid-bright, --vid-contrast, --vid-gamma, --vid-dither, --vid-randomval

The variables controlled by these options were hard-coded constants in
previous versions.  The old constants are now just defaults.

These have no effect if --vid-fastrender is on.

In the future, --vid-gamma will probably be changed to use floating
point and default to 1.0.

** Keymapping changes.

*** New AA-lib compatible defaults added in keymap.

These are letters so the use of Shift (and Caps Lock!) can be
detected.

k	move forward
j	move backward
h	turn left
l	turn right
d	aim up
c	aim down
s	shoot

*** Key bindings changed in ggidumb and ldumb.

The GGI and SVGAlib versions still doesn't use the keymap system but
now their bindings match the keymap defaults.  You can get the old
bindings back by commenting out #define KALLE_KEYS in ggi_video.c and
linux_input.c and recompiling.

*** Keymap is a separate configuration module.

If you previously used --input-keymap-foo, now you must use
--keymap-foo instead.

You must also search & replace in your .dumbrc if you want to keep
your keymap.

Because the keymap system is no longer considered part of the input
driver, it is also present in versions like ggidumb that don't
actually use it yet.

*** The keyname of any graphic character is the character itself.

Previously, you'd have used "--input-keymap-move-left comma" to make
the hero sidestep left when you press the comma key (although this is
the default too).  Now you'd use "--keymap-move-left ," instead.

This change applies to the configuration file too.

Non-ASCII characters like Ö were previously called Odiaeresis and
such.  Now they are just Ö.

The purpose of this change was to make the keyboard configuration menu
look better when it is eventually implemented.

In the future, the configuration file may have some quoting.

** Unix networking allows HOST:PORT.

This can be used for pseudo-networking on a single machine.
Read docs/README.netplay.

** DOOM chainsaw made faster again.

** Negative forms of keywords for PhaseTable definitions.

The keywords NoGlow, NoDestroy, NoStrategy, NoHeatSeek, NoShoot,
NoExplode, NoMelee, NoSpawn2, NoRSpawn2, NoIdle, NoBFGEffect and
NoSpawn are now recognized by ptcomp when compiling a PhaseTable.
Each of them negates the effect of the corresponding positive form.
There is also Sigs which negates NoSigs.

These new keywords aren't probably useful outside "Default"
directives.

* version 0.11.kn.1:
JoinLines and Crossing in XWad

* version 0.11:
Kalle Niemitalo's patches to 0.10a.kn.4 (incl. autoconf support!)
fixed aalib_video.c for new init_video() args
fixed x11_video.c to work with NO_XSHM
changed MAXTICKS message to be more accurate
debugging on by default in Makefile.in
big changes to netplay.c: keep packets 4-byte aligned for alpha/sparc/etc.
netplay.c: give up on whole datagram after seeing a weird packet
thing_take_damage(): bail out on dmg<=0
Kalle's patches to save keymap info + lib/conf.* renovations
My fixes to Kalle's patches :)
skip collision checks if not moving in x / y plane (updthing.c)

* version pre0.11.kn.1:
merged 0.10a.kn.4 and pre-0.11
configurable keymap in xdumb

* version pre-0.11 (released as source patches on dumb-list):
silent mode for XProtoThing
fixed bullets (broken by chainsaw fix in 0.10)
check that both player AND weapon are ready before shooting (useitem.c)
x11_video.c: DGA off by default
laid foundations for sector types
UDP broadcast support: use (eg.) --net-broadcast 150.203.231.255

* version 0.10a.kn.4:
No user-visible changes.

* version 0.10a.kn.3:
climbing stairs backwards now turns the view in the opposite direction

* version 0.10a.kn.2:
don't try to build game.wad
three-way --input-grab-kbd

* version 0.10a.kn.1:
merged 0.10a and 0.09.kn.4

* version 0.09.kn.4 (not distributed):
Autoconf

* version 0.10a:
ggi update from Andrew Apted (new arguments to init_video)

* version 0.10:
** the following stuff was coded at UNSW's Linux Party, Feb '98
fixed a problem with XProtoThing failing to compile
fixed up XF86-DGA
x11_video: ability to grab keyboard while running in window
player reanimation sequence
player reanimate cheat key
silly rotation
fixed blocking objects so that they're really blocking
improved monsters' turning circles
asynchronous network mode (try --netplay-async)
network resume (with help from Andrew Tridgell)
** this all came after the party
removed $(GAME) from $(BINARIES) in Makefile
applied Andrew Apted's monster wakefulness patch
applied Kalle Niemitalo's massive set of patches (see CHANGES.Niemitalo)
fixed a problem with Kalle's changes on big endian processors
(manually) applied Ben Bullock's patches
fixed up use of "inline" to compile w/no optimization
tweaked player speed a bit more (dumb/game.c)
fixed player's ability to keep shooting after death
fixed broadcast gmsgs in non-network mode
fixed a bug with weapon selection: only rotate when wep_sel becomes 1
fixed chainsaw (was too devastating)

* version 0.09.kn.3:
rearranged Doom weapons
TurnWhenHitting in chainsaw
Soulsphere fix
xshm predeletion bugfix
i386 BPP>1 partial invisibility bugfix

* version 0.09.kn.2:
combined looking and aiming again (#ifndef COMPLEX_LOOKING)
fixed texture pegging again (previous fix had a bug)

* version 0.09:
added proper phasetable for player to doom/monsters.pt htic/monsters.pt
fixed bigendian stuff (again)
added linux-ppc config stuff to Makefile
use (long long) to do fixed point multiplies on non-intel machines
different auto-aiming arcs for different weapons
heretic ambient sounds from Andrew Apted
fixbm: benchmark fixed point ops in fixed.h
changed format of PlayerInput to make it saveable/networkable
multiplayer support: big changes to gettables.c, game.c, dumb.c
NOHURTO stops weapons from shooting their owners
sound and game messages network aware
animating icons for gettables
fixed a bug in conf.c that caused sigsegvs when configuring list args

--- Oops: version 0.09 went out with "0.08" as its version number in dumb.c

* version 0.08:
bogothings
player weapons reimplemented using bogothings
DEC Alpha fixes, x11_video run/strafe fix, fbrerender from Marcus Sundberg
heretic .pt tweaks from Andrew Apted
flying monsters try to meet you eye-to-eye (thingm.c)
fixed x11_video.c to cope with 32bpp modes
fixed gravity problems
monsters slow down when they close with you (fixed trouble with htic's imps)
new proto elements: see_arc, aim_arc (kws: SeeArc AimArc)
PT_NOHURTO: don't hurt owner
config help now tells you about enumerated options
beginnings of network game synch code: dyncode.*, levdata.*, netplay.*
updated docs for first time in ages
fixed jpot to deal with pasting transparencies (pastepic.c)
GGI timer use fix from Marcus Sundberg
fixed draw() to deal with negative origin pos'n
twiddled timing-independent player movement
round up when calcing banner update (banner.c)
texture preloading: use --dumb-preload (dumb.c)

--- some copies of an unreleased version of 0.08 got out at the CLUG talk

* version 0.07a:
fixed a bug in the first release of 0.07 that stopped it compiling w/C++

* version 0.07:
rotated floor and ceiling textures 90 degrees to agree with Doom (flrender.c)
wadwr.c: fixed bug to do with freeing (NULL) on error
wadwr.c,wadtool.c: added ability to write output to a directory of lumps
debug messages in levdata.c to track down alignment woes on non-intel ports
linetype tweaks from Andrew Apted
ptcomp now produces ANIMTEX lump
doom/linetypes.pt modified to support heretic
heretic: keys, switches, animtexs, some monsters
timer.c patch from Marcus Sundberg
slowed down turbo stairs to medium speed (twice as fast as normal stairs)
x11_input.c: spacebar sets input.action
dumb/dumb.c: call thing_activate on input.action
automagically look up/down when climbing stairs (updthing.c)
termtype.c: implemented DarkestSector, etc., NextHighestCeiling, etc.
fixed a bug in ptcomp: NULL dereference when phasename used before Phases kw
made ptcomp check that every proto has a phasetable
fixed a bug in XProtoThing auto-rotation + speeded up auto-animation
PT_FLOATSUP, PT_ZPEGGED, and PT_BOUNCY added (updthing.c, rendcore.c, ptcomp.c)
tweaked player turning speed, volume in linux_sound
bullet puffs and smoke float up (doom/missiles.pt)
fixed missing call to XInstallColormap in x11_video.c
rewrote sprite lookup code in textures.c to cope with sprite PWADs
sprite browser for XWad
LEVINFO mechanism (dumb/levinfo.*, tool/ptcomp.c)
fixed diameters in doom/furnishings.pt
implemented texture copying linetypes
dumb/bangbang.c optimized a bit, smoothed monster TSIG_DETECT checking
lib/conf.*: configuration files, new command line parsing arrangement
cute little crosshair: --dumb-crosshair switch
svgalib mouse support and new GGI driver from Andrew Apted

* version 0.06.kn.2:
separate looking and aiming
xkb

* version 0.06.kn.1:
X shared memory segment is predeleted to avoid leaving it if DUMB crashes
texture pegging bugfix when ceiling is below adjacent floor
XWad single-side sector highlight
XWad thing deletion bugfix

* version 0.06:
manual door keytypes fixed
subtle legal change: derived libraries may go under LGPL instead of GPL
processor timing independence (lib/timer.* dumb/upd*.c)
DUnix: MME sound driver from Marcus Sundberg
"local" gettables
spectre patch (Andrew Apted again)
judicious use of const LevData * and static inline (thanks to Gareth Jones)
support for aalib (Yay! Doom on an MDA! :)
extra sanity checking in wadio.c
loads of linetypes from Andrew Apted
tagged sector highlighting in xwad (xwad/drawmap.c)
dark areas darker, more sinister (see top of render.c to fine-tune)
partial invisibility (not quite like Doom's, but it looks OK)
crushing ceilings and non-crushing doors
PT_BULLETPROOF flag
missiles of same type don't explode each other
changed game behaviour on player death
modified Makefile to use makedepend
peg PT_HANGING objects to ceilings when they move
MAX_SPARE_THINGS revved to 64
fixed anomalously glowing barrels
"Speed" keyword for monster and missile protos (ptcomp.c, prothing.h)
tweaks to monster strategy (still not smart enough though)
some objects get Mass so they go up and down with floors
tweaks to melee/bullet code for Archvile

* version 0.05a:
more monster sounds and bend patch from Andrew Apted

* version 0.05:
more GGI twiddling for mouse support from Andreas Beck
"minor fixes" to doom/*.pt from Andrew Apted
preprocess .pt sources with -lang-c++ for // comments
memory allocation in tool/ptcomp.c rationalised
thinghit.c now uses a linetype database (doom/linetypes.pt)
animtex.c modified to deal with switches
made teleport fogs wake monsters
sound added
different timing for different player weapons
fixed monster diameters
XProtoThing updated to incorporate sound
fight sequences twiddled (Demon, Chaingun Guy, Baron)
fixed mirroring problem with some monsters

* version 0.04:
twiddled bullet code to make Archvile attack nicer
hacked sources to allow compilation under GNU C++: "DUMB++"
(DUMB++ only) byteorder fixes
reduced LOTS in ptcomp.c
kludge to x11_video.c for 24-bit truecolour modes on Matrox cards
fixed 32-bit pixel conversion in texture.c
more alpha/DUNIX stuff from Marcus Sundberg
doom player's bloodtype fixed
modularised XWad a bit
texture browser for XWad
fixed "maxval too large" errors with some builds of netpbm
new GGI driver from Andreas Beck (now with mouse support)
increased resolution of fields in PlayerInput (plat/*.c) for mouse support
XProtoThing tool created (soon it will do more)
decaying gettables (gettables.c, doom/gettables.pt)
fixed bug that caused missiles to slide along the ground
fixed view height to conform with Doom
fixed sizes of many doom gettables (gettables.pt)
fixed pillar collision problem
new hashing algorithm for wadio.c (much faster)

* version 0.03:
render/draw.c: draw transparent images over the framebuffer
GETTABLES lump (dumb/gettable.h)
changed format of PROTOS!!!
hanging and flying objects
mechanics rationalised (updthing.c)
melee fixed up
.pt sources preprocessed with cpp
banners (dumb/banner.h)
restricted auto-aiming for player
bugfixes from Steffen Moeller
more 64bit stuff from Marcus Sundberg
yet more doom.pt additions from Andrew Apted
GGI stuff from Andreas Beck
heretic stuff (htic/*)
fixed trouble with transparency at bpp>1
teleportation (dumb/thinghit.c, dumb/updmap.c)
remote doors (dumb/thinghit.c)

* version 0.02a:
doom.pt additions from Andrew Apted
bugfixes and additions to ptcomp
docs/README.ptcomp

* version 0.02:
64bit cleanliness and Makefile changes from Marcus Sundberg
complete rewrite of updmap.c
new ptcomp tool for creating PHASES and PROTOS lumps
XWad made usuable
more original textures and even a sprite!
monsters now wake out of their IDLE states when the player gets near
x11_video tidied up
x86 renderer assembly tidied: removed reliance on -fomit-frame-pointer
miscellaneous bugfixes

* version 0.01:
first released

* The following is for Emacs.
Local Variables:
mode: outline
End:
